# 8 REFACTORING

## 8.0 Enter Form

regiser를 쓰면 input 에 필요한 각종 EventListener등이 생기게 됨

#### [타입-전용 Imports 와 Exports (Type-Only Imports and Exports)](https://www.typescriptlang.org/ko/docs/handbook/release-notes/typescript-3-8.html)

`import type`은 타입 표기와 선언에 사용될 선언만 `import`, `export` 함.
런타임에서는 완전히 지워집니다. 마찬가지로, `export type`은 타입 문맥에 사용할 `export`만 제공하며, 이 또한 TypeScript의 출력물에서 제거됨.
Typescript 3.8에 추가된 것으로 정확하게 `type`만 `import`, `export`하도록 명시할 수 있습니다.

```ts
import type { User } from "./hello.js";
export type { User };
```

## 8.1 Form Submission

`req.body` = `req = {'email": "test@gmial.com"}`은 존재해도
`req.body.email` 은 작동하지 않음 ==> 결과 : undefined

=> `req.body`는 `req`의 내용의 인코딩 기준으로 parse 되기 때문에

headers를 추가해줘야함. `headers: {"Content-Type": "application/json",},`

api를 호출할 때마다 해야하는 설정들

1. headers를 설정해
2. method 설정
3. data도 stringify 설정

나중에 배울 swr : 데이터를 가져오고 캐싱하고 변형할 수 있음

### [Uploading JSON data](https://developer.mozilla.org/ko/docs/Web/API/Fetch_API/Using_Fetch#uploading_json_data)

POST프로토콜로 JSON인코딩된 데이터를 보내기 위해 `fetch()`를 사용.
**`body`의 데이터 유형은 반드시 `"Content-Type"` 헤더와 일치**해야 함

```ts
await fetch(url, {
  method: "POST", // *GET, POST, PUT, DELETE 등
  body: JSON.stringify(data), // data can be `string` or {object}!
  headers: {
    "Content-Type": "application/json",
  },
});
```

## 8.2 Clean Code part One

## 8.3 Clean Code part Two

## 8.4 withHandler

## 8.5 Paths
